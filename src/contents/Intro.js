// import delay from "delay";
import React from 'react';
import { Keyframes } from 'react-spring/renderprops';

const loadingStyle = (opacity, visibility) => ({
  position: 'fixed',
  top: 0,
  bottom: 0,
  left: 0,
  right: 0,
  margin: 'auto',
  opacity: opacity,
  visibility: visibility,
  backgroundColor: 'black',
  zIndex: 3000,
});

const svgStyle = () => ({
  position: 'absolute',
  top: 0,
  bottom: 0,
  left: 0,
  right: 0,
  margin: 'auto',
});

const pathStyle = (fill) => ({
  fill: fill,
  stroke: '#020070',
  strokeWidth: 0.5,
  strokeLinecap: 'square',
  strokeDasharray: 200,
});

const Container = Keyframes.Spring({
  wiggle: async (next) => {
    await next({
      from: { x: 200, color: 'black' },
      to: { x: 0, color: '#311b92' },
      config: { tension: 150, friction: 70 },
    });
    await next({
      from: { x: 0, color: '#311b92' },
      to: { x: 201, color: 'black' },
      config: { tension: 170, friction: 70 },
    });
    await next({
      from: { y: 1 },
      to: { y: 0 },
      config: { tension: 150, friction: 30 },
    });
    await next({
      visibility: 'hidden',
    });
  },
});

export default function Intro() {
  return (
    <Container state="wiggle">
      {(styles) => (
        <div style={loadingStyle(styles.y, styles.visibility)}>
          <svg
            style={svgStyle()}
            xmlns="http://www.w3.org/2000/svg"
            strokeDashoffset={styles.x}
            width="90%"
            height="90%"
            viewBox="0 0 100 30"
          >
            <path
              style={pathStyle(styles.color)}
              d="M93.92 12.23q.64-.17 1.16-.64.52-.48.9-1.22.38-.75.59-1.74.2-1.01.2-2.2 0-.81-.14-1.5-.15-.73-.41-1.24-.26-.53-.63-.83-.36-.3-.8-.3-.32 0-.67.23-.33.24-.65.66-.31.4-.58.97-.26.56-.43 1.18l-.33-.28q.17-1.1.47-2.07.3-.97.7-1.69.43-.73.96-1.14.52-.42 1.17-.42.61 0 1.14.4.53.39.93 1.09.4.68.63 1.61.23.94.23 2.04 0 .57-.13 1.27-.14.7-.37 1.41-.23.72-.54 1.42-.3.67-.64 1.2.47.32.88.98.42.64.73 1.52.31.89.49 1.91.18 1.01.18 2.02 0 2.17-.38 3.79-.39 1.61-1.07 2.68-.67 1.06-1.6 1.6-.92.53-1.99.53-.45 0-.81-.15-.36-.15-.61-.42-.25-.26-.39-.63-.13-.36-.13-.8 0-.4.08-.65.1-.27.23-.42.13-.17.29-.22.16-.07.3-.07.3 0 .51.12.22.13.39.34.17.18.3.4l.31.42q.16.19.35.31.2.13.48.13.58 0 1.02-.4.45-.42.75-1.12.3-.72.45-1.62.16-.92.16-1.9 0-1.27-.23-2.36-.22-1.08-.67-1.87-.45-.8-1.15-1.25-.7-.46-1.63-.46zm-7.68 13.24q-.92 0-1.69-.96-.75-.95-1.3-2.66-.53-1.7-.82-4.08-.3-2.37-.3-5.17 0-2.6.3-4.89.29-2.3.83-4 .54-1.73 1.3-2.72.76-.99 1.68-.99.92 0 1.67 1 .76.98 1.3 2.7.54 1.72.83 4.01.3 2.3.3 4.89 0 2.8-.3 5.17t-.84 4.08q-.53 1.7-1.29 2.66-.75.96-1.67.96zm0-1.22q.56 0 .98-.95.42-.95.7-2.57.27-1.62.4-3.71.15-2.11.15-4.42 0-2.32-.15-4.4-.13-2.07-.4-3.61-.28-1.56-.7-2.48-.42-.92-.98-.92-.57 0-.99.92-.42.92-.7 2.48-.27 1.54-.4 3.62Q84 10.28 84 12.6q0 2.3.13 4.42.14 2.1.41 3.7.28 1.63.7 2.58.42.95.99.95zM70.77.55h1.05l7.28 17.81h.08V.56h.83v24.9h-.44L71.69 5.68h-.07V24.9h-.85zM64 0l5.22 24.9h-1.9l-1.69-8.12h-4.77l-1.75 8.12h-.94L63.53 0zm-2.81 15.2h4.1l-2.02-9.64zm-8 8.72q.42 0 .82-.23.4-.26.72-.74.32-.5.51-1.2.2-.7.2-1.64 0-1.12-.27-1.99-.26-.88-.7-1.6-.42-.73-.97-1.37-.55-.65-1.12-1.29-.56-.64-1.12-1.34-.54-.71-.97-1.58-.43-.88-.7-1.94-.25-1.09-.25-2.48 0-1.4.23-2.6.24-1.18.7-2.05Q50.73 1 51.4.5q.68-.5 1.55-.5.8 0 1.41.37.62.36 1.1 1.08.46.72.79 1.76.32 1.05.52 2.43l-.95.95q-.17-1.12-.43-2.04-.26-.93-.62-1.6-.36-.65-.84-1-.46-.37-1.06-.37-.53 0-.92.33-.4.31-.66.84-.26.52-.4 1.18-.12.64-.12 1.32 0 .96.27 1.76.26.8.7 1.5.45.7 1.01 1.37l1.16 1.34q.59.68 1.15 1.41.57.74 1.01 1.62.44.86.71 1.9.27 1.04.27 2.32 0 1.45-.25 2.74-.25 1.26-.75 2.22-.5.93-1.25 1.49-.75.55-1.74.55-.8 0-1.43-.39-.63-.38-1.11-1.12-.48-.73-.82-1.78-.35-1.07-.57-2.42l1-.9q.18 1.19.47 2.13.3.93.7 1.6.39.64.87.99.48.34 1.03.34zM37.14.55H39v15.8q0 1.57.24 2.95.24 1.36.7 2.38.45 1.03 1.08 1.64.65.59 1.44.59.8 0 1.43-.6.64-.6 1.08-1.63.45-1.02.69-2.38.24-1.38.24-2.94V.56h.82v15.8q0 1.87-.27 3.52-.28 1.66-.88 2.9-.58 1.24-1.5 1.97-.93.72-2.22.72-1.14 0-2.03-.72-.88-.73-1.48-1.98t-.9-2.92q-.31-1.7-.31-3.6zm-10.56 0h3.86q1 0 1.75.48.75.46 1.25 1.3.5.85.76 2.02.26 1.16.26 2.54 0 1.13-.2 2.13-.2.99-.56 1.8-.35.78-.85 1.37-.5.57-1.1.9l4.04 11.8h-2.17l-3.86-11.43h-1.3V24.9h-1.88zm1.87 11.68h1.08q.63 0 1.16-.37.53-.37.92-1.03.4-.68.61-1.63.22-.96.22-2.15 0-1.1-.18-2.02-.16-.92-.48-1.56-.31-.66-.75-1.03-.43-.37-.94-.37h-1.64zM19.8 0l5.22 24.9h-1.9l-1.69-8.12h-4.77l-1.75 8.12h-.94L19.33 0zm-2.81 15.2h4.1l-2.02-9.64zM0 .55h1.91l4.32 18.67h.1L10.56.55h1.88V24.9h-1.88V4.94h-.05L5.95 24.9h-.39L.96 5.1H.83v19.8H0z"
            />
          </svg>
        </div>
      )}
    </Container>
  );
}
